
RAJ_quit_india = {

	RAJ_august_offer = {
		icon = generic_nationalism
		available = {
			has_completed_focus = RAJ_launch_quit_india
		}
		cost = 25
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes
		complete_effect = {
			add_political_power = 150
			add_stability = 0.15
			set_cosmetic_tag = RAJ_independence
			if = {
				limit = {
					not = {
						has_country_flag = RAJ_quit_india
					}
				}
				set_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
			else = {
				modify_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
		}
	}
	
	RAJ_win_over_industrialists = {
		icon = generic_nationalism
		available = {
			has_completed_focus = RAJ_launch_quit_india
		}
		visible = {
			
		}
		cost = 25
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes
		complete_effect = {
			add_offsite_building = {
				type = arms_factory
				level = 1
			}
			if = {
				limit = {
					not = {
						has_country_flag = RAJ_quit_india
					}
				}
				set_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
			else = {
				modify_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
		}
	}
	
	RAJ_indian_representation = {
		icon = generic_nationalism
		available = {
			has_cosmetic_tag = RAJ_independence 
			has_completed_focus = RAJ_launch_quit_india
		}
		visible = {
			
		}
		cost = 75
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			add_stability = 0.1
			add_popularity = { ideology = democratic popularity = 0.05 }
			if = {
				limit = {
					not = {
						has_country_flag = RAJ_quit_india
					}
				}
				set_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
			else = {
				modify_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
		}
	}
	RAJ_hunger_strike = {
		icon = generic_nationalism
		available = {
			has_cosmetic_tag = RAJ_independence
			has_completed_focus = RAJ_launch_quit_india
		}
		visible = {
			has_country_flag = {
				flag = RAJ_quit_india
				value > 2
			}
		}
		cost = 75
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			add_autonomy_ratio = {
				value = 0.1
				localization = RAJ_hunger_strike
			}
			if = {
				limit = {
					not = {
						has_country_flag = RAJ_quit_india
					}
				}
				set_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
			else = {
				modify_country_flag = {
					flag = RAJ_quit_india
					value = 1
				}
			}
		}
	}
	RAJ_form_an_indian_constituion = {
		icon = eng_trade_unions_support
		available = {
			has_cosmetic_tag = RAJ_independence
			has_completed_focus = RAJ_launch_quit_india
		}
		visible = {
			has_country_flag = {
				flag = RAJ_quit_india
				value > 2
			}
			has_cosmetic_tag = RAJ_independence
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
		
			ENG = { set_autonomy = { target = RAJ autonomy_state = autonomy_free } }	
		
			RAJ = {
				add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
				leave_faction = yes
			}
		}
	}
}

###free india

RAJ_free_india_mission = {

	name = RAJ_free_india

	icon = eng_propaganda_campaigns

	allowed = {
		tag = RAJ
	}

	available = {
		OR = {
			has_completed_focus = RAJ_purge_diserters
			has_completed_focus = RAJ_arm_sepertist_groups
		}	
	}

	fire_only_once = yes

	days_mission_timeout = 140

	cancel_if_not_visible = yes

	activation = {
		NOT = { has_global_flag = RAJ_bose_return_flag }
		OR = {
			has_completed_focus = RAJ_purge_diserters
			has_completed_focus = RAJ_arm_sepertist_groups
		}	
	}

	visible = {
		tag = RAJ
		OR = {
			has_completed_focus = RAJ_purge_diserters
			has_completed_focus = RAJ_arm_sepertist_groups
		}
		NOT = { has_global_flag = RAJ_bose_return_flag }
	}

	cancel_if_not_visible = yes

	is_good = yes
	

	timeout_effect = {

		custom_effect_tooltip = RAJ_bose_retuned_tt
		hidden_effect = {
			set_country_flag = RAJ_bose_return_flag
			set_global_flag = RAJ_bose_return_flag
			start_civil_war = {
				ruling_party = neutrality
				ideology = despotism
				size = 0.5
				random_owned_controlled_state = {
					prioritize = { 429 425 }
					ROOT = { set_capital = PREV }
				}
				leave_faction = yes
			}
				
			drop_cosmetic_tag = yes
			
			random_other_country = {
				limit = {
					original_tag = RAJ
					has_government = neutrality
				}
				set_equipment_fraction = 0.5
				set_stability = 0.9
				set_war_support = 0.9
			}
		
			random_other_country = {
				
				limit = {
					original_tag = RAJ
					has_government = neutrality
				}

				create_country_leader = {
      				name = "Subhas Chadra Bose"
      				desc = "POLITICS_SUBHAS_CHADRA_BOSE_DESC"
     				picture = "r56_portrait_RAJ_Subhas_Chadra_Bose.dds"
      				expire = "1965.1.1"
      				ideology = despotism
      				traits = {
						rebel_president_trait
    				}
  				}
				
				transfer_navy = {
					target = RAJ
				}
				
				load_focus_tree = {
					tree = indian_focus
					keep_completed = no
				}

				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				add_popularity = {
					ideology = communism
					popularity = 0.2
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.3
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.4
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.05
				}
				set_stability = 0.9
				set_war_support = 0.8
			}
		}
	}
}
